{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from\"react\";import PropTypes from\"prop-types\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Container,Content,View,Text}from\"native-base\";import{Col,Row,Grid}from\"react-native-easy-grid\";import*as Location from\"expo-location\";import Carousel,{Pagination}from'react-native-snap-carousel';import Header from\"../../components/Header\";import Footer from\"../../components/Footer\";import Typography from\"../../components/Typography\";import Button from\"../../components/Button\";import SwipeModal from\"../../components/SwipeModal\";import global from\"../../utils/GlobalStyles\";var styles=StyleSheet.create({slideWrapper:{flex:1,flexDirection:\"row\"},slideContent:{position:\"relative\",flexDirection:\"column\",justifyContent:\"center\",flex:1},slideContainer:{backgroundColor:\"transparent\"},slideDot:{width:10,height:10,borderRadius:5,marginHorizontal:1,backgroundColor:\"#ff3737\"},itemContent:{height:\"100%\"}});var sliderWidth=Dimensions.get(\"window\").width;export default function Index(_ref){var navigation=_ref.navigation;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var cards=[{title:\"Protect your now with a better, smarter emergency fund.\",text:\"Our version of an emergency fund earns you up to 5% interest rate p.a., comes with a Singlife Card, and backs you up with insurance coverage from day 1.\",button:React.createElement(Button,{onPress:function onPress(){return navigation.navigate(\"OnboardingEmergencyFund\");},full:true,variant:\"primary-contained\",text:\"START MY EMERGENCY FUND\"})},{title:\"Plan & protect your future your way with the Singlife Plan.\",text:\"Becoming financially confident starts with goals. \\nBut goals can change. \\n​We've designed the Singlife Plan, our proprietary financial needs analysis (FNA) tool, to give you a holistic recommendation that changes along with you. We give you the ability to make the most out of your money – whatever life stage you’re in.\",button:React.createElement(Button,{full:true,variant:\"primary-contained\",text:\"start my singlife plan\"})},{title:\"Not yet sure where to start?\",text:\"No problem! You can take your time and explore the app.\",button:React.createElement(View,null,React.createElement(Button,{onPress:function onPress(){return navigation.navigate(\"OnboardingCreateAccount\");},full:true,variant:\"primary-contained\",text:\"create account\"}),React.createElement(View,{style:global.buttonSeparator},React.createElement(Button,{full:true,variant:\"default-outlined\",text:\"explore the app\"})))}];var _useState3=useState(180),_useState4=_slicedToArray(_useState3,2),countDown=_useState4[0],setCountdown=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),logoutDeviceAlert=_useState6[0],setLogoutDeviceAlert=_useState6[1];var openLogoutDeviceAlert=function openLogoutDeviceAlert(){setLogoutDeviceAlert(true);};var closeLogoutDeviceAlert=function closeLogoutDeviceAlert(){setLogoutDeviceAlert(false);};var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),ekycAlert=_useState8[0],setEkycAlert=_useState8[1];var openEkycAlert=function openEkycAlert(){setEkycAlert(true);};var closeEkycAlert=function closeEkycAlert(){setEkycAlert(false);};var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),logoutAlert=_useState10[0],setLogoutAlert=_useState10[1];var openLogoutAlert=function openLogoutAlert(){setLogoutAlert(true);};var closeLogoutAlert=function closeLogoutAlert(){setLogoutAlert(false);};var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),inactivityAlert=_useState12[0],setInactivityAlert=_useState12[1];var openInactivityAlert=function openInactivityAlert(){setInactivityAlert(true);};var closeInactivityAlert=function closeInactivityAlert(type){if(type===\"timeout\"){openLogoutAlert();}setInactivityAlert(false);};useEffect(function(){var timer=setTimeout(function(){if(countDown===1){closeInactivityAlert(\"timeout\");setCountdown(180);}else{setCountdown(countDown-1);}},1000);return function(){return clearTimeout(timer);};});useEffect(function(){(function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},null,null,null,Promise);})();setTimeout(function(){openInactivityAlert();setCountdown(20);},20000);},[]);var renderItem=function renderItem(_ref2){var item=_ref2.item;return React.createElement(React.Fragment,null,React.createElement(Content,{style:styles.itemContent},React.createElement(View,{style:global.carouselImage},React.createElement(Text,null,\"Image\")),React.createElement(View,{style:global.content},React.createElement(Typography,{text:item.title,type:\"title2\"}),React.createElement(View,{style:global.body},React.createElement(Typography,{text:item.text,type:\"body\"})))),React.createElement(Footer,null,item.button));};return React.createElement(Container,null,React.createElement(Header,{logo:true,menu:true,menuAction:function menuAction(){return navigation.navigate(\"Login\");}}),React.createElement(Pagination,{dotsLength:cards.length,activeDotIndex:activeIndex,containerStyle:styles.slideContainer,dotStyle:styles.slideDot,inactiveDotStyle:{backgroundColor:\"rgba(204, 204, 204, 0.92)\"},inactiveDotOpacity:1,inactiveDotScale:1}),React.createElement(Carousel,{layout:\"default\",data:cards,sliderWidth:sliderWidth,itemWidth:sliderWidth,renderItem:renderItem,onBeforeSnapToItem:function onBeforeSnapToItem(index){return setActiveIndex(index);},inactiveSlideScale:1}),React.createElement(SwipeModal,{fullWidth:true,state:inactivityAlert,onClose:closeInactivityAlert},React.createElement(View,{style:{marginTop:10,marginHorizontal:20}},React.createElement(Typography,{text:\"Hello, are you still there?\",type:\"title2\"}),React.createElement(Grid,{style:{marginTop:10}},React.createElement(Row,{size:4},React.createElement(Col,null,React.createElement(Typography,{text:\"You seem busy. For your security, we'll automatically log you out in \"+countDown+\" seconds.\",type:\"body\"})))))),inactivityAlert&&React.createElement(View,{style:global.modalFooterView},React.createElement(Grid,null,React.createElement(Row,{size:4},React.createElement(Col,null,React.createElement(Button,{full:true,variant:\"primary-contained\",text:\"KEEP ME LOGGED IN\",onPress:closeInactivityAlert}))),React.createElement(Row,{size:4,style:{marginTop:10}},React.createElement(Col,null,React.createElement(Button,{full:true,variant:\"default-outlined\",text:\"LOG ME OUT\",onPress:function onPress(){return navigation.navigate(\"Login\");}}))))),React.createElement(SwipeModal,{fullWidth:true,state:logoutAlert,onClose:closeLogoutAlert},React.createElement(View,{style:{marginTop:10,marginHorizontal:20}},React.createElement(Typography,{text:\"Logged out\",type:\"title2\"}),React.createElement(Grid,{style:{marginTop:24}},React.createElement(Row,{size:4},React.createElement(Col,null,React.createElement(Typography,{text:\"For your security, we logged you out. Please log in again.\",type:\"body\"})))))),logoutAlert&&React.createElement(View,{style:global.modalFooterView},React.createElement(Button,{full:true,variant:\"primary-contained\",text:\"LOG IN\",onPress:function onPress(){return navigation.navigate(\"Login\");}})),React.createElement(SwipeModal,{fullWidth:true,state:logoutDeviceAlert,onClose:closeLogoutDeviceAlert},React.createElement(View,{style:{marginTop:10,marginHorizontal:20}},React.createElement(Typography,{text:\"Logged out\",type:\"title2\"}),React.createElement(Grid,{style:{marginTop:20}},React.createElement(Row,{size:4},React.createElement(Col,null,React.createElement(Typography,{text:\"We noticed you logged in on a different device. For your security, we logged you out of this device.\",type:\"body\"})))))),logoutDeviceAlert&&React.createElement(View,{style:global.modalFooterView},React.createElement(Button,{full:true,variant:\"default-outlined\",text:\"OKAY\",onPress:openEkycAlert})),React.createElement(SwipeModal,{fullWidth:true,state:ekycAlert,onClose:closeEkycAlert},React.createElement(View,{style:global.modalView},React.createElement(Grid,{style:{marginTop:10}},React.createElement(Row,{size:4},React.createElement(Col,null,React.createElement(Typography,{text:\"If you wish to edit your profile, please verify your account again to ensure security and to continuously enjoy all Singlife features.\",type:\"body\"})))))),ekycAlert&&React.createElement(View,{style:global.modalFooterView},React.createElement(Button,{full:true,variant:\"primary-contained\",text:\"RESET PASSWORD\",onPress:function onPress(){return navigation.navigate(\"ResetPassword\");}})));}Index.propTypes={navigation:PropTypes.objectOf(PropTypes.any).isRequired};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/greninja/app/screens/Onboarding/index.js"],"names":["React","useState","useEffect","PropTypes","Container","Content","View","Text","Col","Row","Grid","Location","Carousel","Pagination","Header","Footer","Typography","Button","SwipeModal","global","styles","StyleSheet","create","slideWrapper","flex","flexDirection","slideContent","position","justifyContent","slideContainer","backgroundColor","slideDot","width","height","borderRadius","marginHorizontal","itemContent","sliderWidth","Dimensions","get","Index","navigation","activeIndex","setActiveIndex","cards","title","text","button","navigate","buttonSeparator","countDown","setCountdown","logoutDeviceAlert","setLogoutDeviceAlert","openLogoutDeviceAlert","closeLogoutDeviceAlert","ekycAlert","setEkycAlert","openEkycAlert","closeEkycAlert","logoutAlert","setLogoutAlert","openLogoutAlert","closeLogoutAlert","inactivityAlert","setInactivityAlert","openInactivityAlert","closeInactivityAlert","type","timer","setTimeout","clearTimeout","renderItem","item","carouselImage","content","body","length","index","marginTop","modalFooterView","modalView","propTypes","objectOf","any","isRequired"],"mappings":"6HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,C,kIAEA,OAASC,SAAT,CAAoBC,OAApB,CAA6BC,IAA7B,CAAmCC,IAAnC,KAA+C,aAA/C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,KAA+B,wBAA/B,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,eAA1B,CAEA,MAAOC,CAAAA,QAAP,EAAmBC,UAAnB,KAAqC,4BAArC,CAEA,MAAOC,CAAAA,MAAP,+BACA,MAAOC,CAAAA,MAAP,+BACA,MAAOC,CAAAA,UAAP,mCACA,MAAOC,CAAAA,MAAP,+BACA,MAAOC,CAAAA,UAAP,mCACA,MAAOC,CAAAA,MAAP,gCAEA,GAAMC,CAAAA,MAAM,CAAGC,UAAU,CAACC,MAAX,CAAkB,CAC/BC,YAAY,CAAE,CACZC,IAAI,CAAE,CADM,CAEZC,aAAa,CAAE,KAFH,CADiB,CAK/BC,YAAY,CAAE,CACZC,QAAQ,CAAE,UADE,CAEZF,aAAa,CAAE,QAFH,CAGZG,cAAc,CAAE,QAHJ,CAIZJ,IAAI,CAAE,CAJM,CALiB,CAW/BK,cAAc,CAAE,CACdC,eAAe,CAAE,aADH,CAXe,CAc/BC,QAAQ,CAAE,CACRC,KAAK,CAAE,EADC,CAERC,MAAM,CAAE,EAFA,CAGRC,YAAY,CAAE,CAHN,CAIRC,gBAAgB,CAAE,CAJV,CAKRL,eAAe,CAAE,SALT,CAdqB,CAqB/BM,WAAW,CAAE,CACXH,MAAM,CAAE,MADG,CArBkB,CAAlB,CAAf,CA0BA,GAAMI,CAAAA,WAAW,CAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBP,KAA7C,CAEA,cAAe,SAASQ,CAAAA,KAAT,MAA+B,IAAdC,CAAAA,UAAc,MAAdA,UAAc,eACNxC,QAAQ,CAAC,CAAD,CADF,wCACrCyC,WADqC,eACxBC,cADwB,eAE5C,GAAMC,CAAAA,KAAK,CAAG,CACZ,CACEC,KAAK,CAAE,yDADT,CAEEC,IAAI,CAAE,0JAFR,CAGEC,MAAM,CAAE,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMN,CAAAA,UAAU,CAACO,QAAX,CAAoB,yBAApB,CAAN,EAAjB,CAAuE,IAAI,KAA3E,CAA4E,OAAO,CAAC,mBAApF,CAAwG,IAAI,CAAC,yBAA7G,EAHV,CADY,CAMZ,CACEH,KAAK,CAAE,6DADT,CAEEC,IAAI,CAAE,oUAFR,CAGEC,MAAM,CAAE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,OAAO,CAAC,mBAArB,CAAyC,IAAI,CAAC,wBAA9C,EAHV,CANY,CAWZ,CACEF,KAAK,CAAE,8BADT,CAEEC,IAAI,CAAE,yDAFR,CAGEC,MAAM,CACJ,oBAAC,IAAD,MACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMN,CAAAA,UAAU,CAACO,QAAX,CAAoB,yBAApB,CAAN,EAAjB,CAAuE,IAAI,KAA3E,CAA4E,OAAO,CAAC,mBAApF,CAAwG,IAAI,CAAC,gBAA7G,EADF,CAGE,oBAAC,IAAD,EAAM,KAAK,CAAE7B,MAAM,CAAC8B,eAApB,EACE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,OAAO,CAAC,kBAArB,CAAwC,IAAI,CAAC,iBAA7C,EADF,CAHF,CAJJ,CAXY,CAAd,CAF4C,eA2BVhD,QAAQ,CAAC,GAAD,CA3BE,yCA2BrCiD,SA3BqC,eA2B1BC,YA3B0B,8BA6BMlD,QAAQ,CAAC,KAAD,CA7Bd,yCA6BrCmD,iBA7BqC,eA6BlBC,oBA7BkB,eA8B5C,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClCD,oBAAoB,CAAC,IAAD,CAApB,CACD,CAFD,CAGA,GAAME,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,EAAM,CACnCF,oBAAoB,CAAC,KAAD,CAApB,CACD,CAFD,CAjC4C,eAqCVpD,QAAQ,CAAC,KAAD,CArCE,yCAqCrCuD,SArCqC,eAqC1BC,YArC0B,eAsC5C,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BD,YAAY,CAAC,IAAD,CAAZ,CACD,CAFD,CAGA,GAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BF,YAAY,CAAC,KAAD,CAAZ,CACD,CAFD,CAzC4C,eA6CNxD,QAAQ,CAAC,KAAD,CA7CF,0CA6CrC2D,WA7CqC,gBA6CxBC,cA7CwB,gBA8C5C,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BD,cAAc,CAAC,IAAD,CAAd,CACD,CAFD,CAGA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BF,cAAc,CAAC,KAAD,CAAd,CACD,CAFD,CAjD4C,gBAqDE5D,QAAQ,CAAC,KAAD,CArDV,2CAqDrC+D,eArDqC,gBAqDpBC,kBArDoB,gBAsD5C,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChCD,kBAAkB,CAAC,IAAD,CAAlB,CACD,CAFD,CAGA,GAAME,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,IAAD,CAAU,CACrC,GAAIA,IAAI,GAAK,SAAb,CAAwB,CACtBN,eAAe,GAChB,CACDG,kBAAkB,CAAC,KAAD,CAAlB,CACD,CALD,CAOA/D,SAAS,CAAC,UAAM,CACd,GAAMmE,CAAAA,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC7B,GAAIpB,SAAS,GAAK,CAAlB,CAAqB,CACnBiB,oBAAoB,CAAC,SAAD,CAApB,CACAhB,YAAY,CAAC,GAAD,CAAZ,CACD,CAHD,IAGO,CACLA,YAAY,CAACD,SAAS,CAAG,CAAb,CAAZ,CACD,CACF,CAPuB,CAOrB,IAPqB,CAAxB,CASA,MAAO,kBAAMqB,CAAAA,YAAY,CAACF,KAAD,CAAlB,EAAP,CACD,CAXQ,CAAT,CAaAnE,SAAS,CAAC,UAAM,CACd,CAAC,kMAAD,IAKAoE,UAAU,CAAC,UAAM,CACfJ,mBAAmB,GACnBf,YAAY,CAAC,EAAD,CAAZ,CACD,CAHS,CAGP,KAHO,CAAV,CAID,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMqB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,WAAGC,CAAAA,IAAH,OAAGA,IAAH,OACjB,qBAAC,KAAD,CAAO,QAAP,MACE,oBAAC,OAAD,EAAS,KAAK,CAAErD,MAAM,CAACgB,WAAvB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAEjB,MAAM,CAACuD,aAApB,EACE,oBAAC,IAAD,cADF,CADF,CAKE,oBAAC,IAAD,EAAM,KAAK,CAAEvD,MAAM,CAACwD,OAApB,EACE,oBAAC,UAAD,EAAY,IAAI,CAAEF,IAAI,CAAC5B,KAAvB,CAA8B,IAAI,CAAC,QAAnC,EADF,CAGE,oBAAC,IAAD,EAAM,KAAK,CAAE1B,MAAM,CAACyD,IAApB,EACE,oBAAC,UAAD,EAAY,IAAI,CAAEH,IAAI,CAAC3B,IAAvB,CAA6B,IAAI,CAAC,MAAlC,EADF,CAHF,CALF,CADF,CAeE,oBAAC,MAAD,MACG2B,IAAI,CAAC1B,MADR,CAfF,CADiB,EAAnB,CAsBA,MACE,qBAAC,SAAD,MACE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,IAAI,KAAjB,CAAkB,UAAU,CAAE,4BAAMN,CAAAA,UAAU,CAACO,QAAX,CAAoB,OAApB,CAAN,EAA9B,EADF,CAGE,oBAAC,UAAD,EACE,UAAU,CAAEJ,KAAK,CAACiC,MADpB,CAEE,cAAc,CAAEnC,WAFlB,CAGE,cAAc,CAAEtB,MAAM,CAACS,cAHzB,CAIE,QAAQ,CAAET,MAAM,CAACW,QAJnB,CAKE,gBAAgB,CAAE,CAChBD,eAAe,CAAE,2BADD,CALpB,CAQE,kBAAkB,CAAE,CARtB,CASE,gBAAgB,CAAE,CATpB,EAHF,CAeE,oBAAC,QAAD,EACE,MAAM,CAAC,SADT,CAEE,IAAI,CAAEc,KAFR,CAGE,WAAW,CAAEP,WAHf,CAIE,SAAS,CAAEA,WAJb,CAKE,UAAU,CAAEmC,UALd,CAME,kBAAkB,CAAE,4BAAAM,KAAK,QAAInC,CAAAA,cAAc,CAACmC,KAAD,CAAlB,EAN3B,CAOE,kBAAkB,CAAE,CAPtB,EAfF,CA0BE,oBAAC,UAAD,EAAY,SAAS,KAArB,CAAsB,KAAK,CAAEd,eAA7B,CAA8C,OAAO,CAAEG,oBAAvD,EACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEY,SAAS,CAAE,EAAb,CAAiB5C,gBAAgB,CAAE,EAAnC,CAAb,EACE,oBAAC,UAAD,EAAY,IAAI,CAAC,6BAAjB,CAA+C,IAAI,CAAC,QAApD,EADF,CAEE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAE4C,SAAS,CAAE,EAAb,CAAb,EACE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,EACE,oBAAC,GAAD,MACE,oBAAC,UAAD,EAAY,IAAI,yEAA0E7B,SAA1E,YAAhB,CAAgH,IAAI,CAAC,MAArH,EADF,CADF,CADF,CAFF,CADF,CA1BF,CAsCGc,eAAe,EACd,oBAAC,IAAD,EAAM,KAAK,CAAE7C,MAAM,CAAC6D,eAApB,EACE,oBAAC,IAAD,MACE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,EACE,oBAAC,GAAD,MACE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,OAAO,CAAC,mBAArB,CAAyC,IAAI,CAAC,mBAA9C,CAAkE,OAAO,CAAEb,oBAA3E,EADF,CADF,CADF,CAME,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,KAAK,CAAE,CAAEY,SAAS,CAAE,EAAb,CAArB,EACE,oBAAC,GAAD,MACE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,OAAO,CAAC,kBAArB,CAAwC,IAAI,CAAC,YAA7C,CAA0D,OAAO,CAAE,yBAAMtC,CAAAA,UAAU,CAACO,QAAX,CAAoB,OAApB,CAAN,EAAnE,EADF,CADF,CANF,CADF,CAvCJ,CAyDE,oBAAC,UAAD,EAAY,SAAS,KAArB,CAAsB,KAAK,CAAEY,WAA7B,CAA0C,OAAO,CAAEG,gBAAnD,EACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEgB,SAAS,CAAE,EAAb,CAAiB5C,gBAAgB,CAAE,EAAnC,CAAb,EACE,oBAAC,UAAD,EAAY,IAAI,CAAC,YAAjB,CAA8B,IAAI,CAAC,QAAnC,EADF,CAEE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAE4C,SAAS,CAAE,EAAb,CAAb,EACE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,EACE,oBAAC,GAAD,MACE,oBAAC,UAAD,EAAY,IAAI,CAAC,4DAAjB,CAA8E,IAAI,CAAC,MAAnF,EADF,CADF,CADF,CAFF,CADF,CAzDF,CAqEGnB,WAAW,EACV,oBAAC,IAAD,EAAM,KAAK,CAAEzC,MAAM,CAAC6D,eAApB,EACE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,OAAO,CAAC,mBAArB,CAAyC,IAAI,CAAC,QAA9C,CAAuD,OAAO,CAAE,yBAAMvC,CAAAA,UAAU,CAACO,QAAX,CAAoB,OAApB,CAAN,EAAhE,EADF,CAtEJ,CA6EE,oBAAC,UAAD,EAAY,SAAS,KAArB,CAAsB,KAAK,CAAEI,iBAA7B,CAAgD,OAAO,CAAEG,sBAAzD,EACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEwB,SAAS,CAAE,EAAb,CAAiB5C,gBAAgB,CAAE,EAAnC,CAAb,EACE,oBAAC,UAAD,EAAY,IAAI,CAAC,YAAjB,CAA8B,IAAI,CAAC,QAAnC,EADF,CAEE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAE4C,SAAS,CAAE,EAAb,CAAb,EACE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,EACE,oBAAC,GAAD,MACE,oBAAC,UAAD,EAAY,IAAI,CAAC,sGAAjB,CAAwH,IAAI,CAAC,MAA7H,EADF,CADF,CADF,CAFF,CADF,CA7EF,CAyFG3B,iBAAiB,EAChB,oBAAC,IAAD,EAAM,KAAK,CAAEjC,MAAM,CAAC6D,eAApB,EACE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,OAAO,CAAC,kBAArB,CAAwC,IAAI,CAAC,MAA7C,CAAoD,OAAO,CAAEtB,aAA7D,EADF,CA1FJ,CAiGE,oBAAC,UAAD,EAAY,SAAS,KAArB,CAAsB,KAAK,CAAEF,SAA7B,CAAwC,OAAO,CAAEG,cAAjD,EACE,oBAAC,IAAD,EAAM,KAAK,CAAExC,MAAM,CAAC8D,SAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEF,SAAS,CAAE,EAAb,CAAb,EACE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,EACE,oBAAC,GAAD,MACE,oBAAC,UAAD,EAAY,IAAI,CAAC,wIAAjB,CAA0J,IAAI,CAAC,MAA/J,EADF,CADF,CADF,CADF,CADF,CAjGF,CA4GGvB,SAAS,EACR,oBAAC,IAAD,EAAM,KAAK,CAAErC,MAAM,CAAC6D,eAApB,EACE,oBAAC,MAAD,EAAQ,IAAI,KAAZ,CAAa,OAAO,CAAC,mBAArB,CAAyC,IAAI,CAAC,gBAA9C,CAA+D,OAAO,CAAE,yBAAMvC,CAAAA,UAAU,CAACO,QAAX,CAAoB,eAApB,CAAN,EAAxE,EADF,CA7GJ,CADF,CAqHD,CAEDR,KAAK,CAAC0C,SAAN,CAAkB,CAChBzC,UAAU,CAAEtC,SAAS,CAACgF,QAAV,CAAmBhF,SAAS,CAACiF,GAA7B,EAAkCC,UAD9B,CAAlB","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Dimensions, StyleSheet } from \"react-native\";\nimport { Container, Content, View, Text } from \"native-base\";\nimport { Col, Row, Grid } from \"react-native-easy-grid\";\nimport * as Location from \"expo-location\";\n\nimport Carousel, { Pagination } from 'react-native-snap-carousel';\n\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport Typography from \"../../components/Typography\";\nimport Button from \"../../components/Button\";\nimport SwipeModal from \"../../components/SwipeModal\";\nimport global from \"../../utils/GlobalStyles\";\n\nconst styles = StyleSheet.create({\n  slideWrapper: {\n    flex: 1,\n    flexDirection: \"row\",\n  },\n  slideContent: {\n    position: \"relative\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    flex: 1,\n  },\n  slideContainer: {\n    backgroundColor: \"transparent\",\n  },\n  slideDot: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    marginHorizontal: 1,\n    backgroundColor: \"#ff3737\",\n  },\n  itemContent: {\n    height: \"100%\",\n  },\n});\n\nconst sliderWidth = Dimensions.get(\"window\").width;\n\nexport default function Index({ navigation }) {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const cards = [\n    {\n      title: \"Protect your now with a better, smarter emergency fund.\",\n      text: \"Our version of an emergency fund earns you up to 5% interest rate p.a., comes with a Singlife Card, and backs you up with insurance coverage from day 1.\",\n      button: <Button onPress={() => navigation.navigate(\"OnboardingEmergencyFund\")} full variant=\"primary-contained\" text=\"START MY EMERGENCY FUND\" />,\n    },\n    {\n      title: \"Plan & protect your future your way with the Singlife Plan.\",\n      text: \"Becoming financially confident starts with goals. \\nBut goals can change. \\n​We've designed the Singlife Plan, our proprietary financial needs analysis (FNA) tool, to give you a holistic recommendation that changes along with you. We give you the ability to make the most out of your money – whatever life stage you’re in.\",\n      button: <Button full variant=\"primary-contained\" text=\"start my singlife plan\" />,\n    },\n    {\n      title: \"Not yet sure where to start?\",\n      text: \"No problem! You can take your time and explore the app.\",\n      button:\n        <View>\n          <Button onPress={() => navigation.navigate(\"OnboardingCreateAccount\")} full variant=\"primary-contained\" text=\"create account\" />\n\n          <View style={global.buttonSeparator}>\n            <Button full variant=\"default-outlined\" text=\"explore the app\" />\n          </View>\n        </View>,\n    },\n  ];\n\n  const [countDown, setCountdown] = useState(180);\n\n  const [logoutDeviceAlert, setLogoutDeviceAlert] = useState(false);\n  const openLogoutDeviceAlert = () => {\n    setLogoutDeviceAlert(true);\n  };\n  const closeLogoutDeviceAlert = () => {\n    setLogoutDeviceAlert(false);\n  };\n\n  const [ekycAlert, setEkycAlert] = useState(false);\n  const openEkycAlert = () => {\n    setEkycAlert(true);\n  };\n  const closeEkycAlert = () => {\n    setEkycAlert(false);\n  };\n\n  const [logoutAlert, setLogoutAlert] = useState(false);\n  const openLogoutAlert = () => {\n    setLogoutAlert(true);\n  };\n  const closeLogoutAlert = () => {\n    setLogoutAlert(false);\n  };\n\n  const [inactivityAlert, setInactivityAlert] = useState(false);\n  const openInactivityAlert = () => {\n    setInactivityAlert(true);\n  };\n  const closeInactivityAlert = (type) => {\n    if (type === \"timeout\") {\n      openLogoutAlert();\n    }\n    setInactivityAlert(false);\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (countDown === 1) {\n        closeInactivityAlert(\"timeout\");\n        setCountdown(180);\n      } else {\n        setCountdown(countDown - 1);\n      }\n    }, 1000);\n\n    return () => clearTimeout(timer);\n  });\n\n  useEffect(() => {\n    (async () => {\n      // const status = await Location.requestPermissionsAsync();\n      // console.log(status);\n    })();\n\n    setTimeout(() => {\n      openInactivityAlert();\n      setCountdown(20);\n    }, 20000);\n  }, []);\n\n  const renderItem = ({ item }) => (\n    <React.Fragment>\n      <Content style={styles.itemContent}>\n        <View style={global.carouselImage}>\n          <Text>Image</Text>\n        </View>\n\n        <View style={global.content}>\n          <Typography text={item.title} type=\"title2\" />\n\n          <View style={global.body}>\n            <Typography text={item.text} type=\"body\" />\n          </View>\n        </View>\n      </Content>\n\n      <Footer>\n        {item.button}\n      </Footer>\n    </React.Fragment>\n  );\n\n  return (\n    <Container>\n      <Header logo menu menuAction={() => navigation.navigate(\"Login\")} />\n\n      <Pagination\n        dotsLength={cards.length}\n        activeDotIndex={activeIndex}\n        containerStyle={styles.slideContainer}\n        dotStyle={styles.slideDot}\n        inactiveDotStyle={{\n          backgroundColor: \"rgba(204, 204, 204, 0.92)\",\n        }}\n        inactiveDotOpacity={1}\n        inactiveDotScale={1}\n      />\n\n      <Carousel\n        layout=\"default\"\n        data={cards}\n        sliderWidth={sliderWidth}\n        itemWidth={sliderWidth}\n        renderItem={renderItem}\n        onBeforeSnapToItem={index => setActiveIndex(index)}\n        inactiveSlideScale={1}\n      />\n\n      {/* INACTIVITY WARNING PROMPT */}\n      <SwipeModal fullWidth state={inactivityAlert} onClose={closeInactivityAlert}>\n        <View style={{ marginTop: 10, marginHorizontal: 20 }}>\n          <Typography text=\"Hello, are you still there?\" type=\"title2\" />\n          <Grid style={{ marginTop: 10 }}>\n            <Row size={4}>\n              <Col>\n                <Typography text={`You seem busy. For your security, we'll automatically log you out in ${countDown} seconds.`} type=\"body\" />\n              </Col>\n            </Row>\n          </Grid>\n        </View>\n      </SwipeModal>\n      {inactivityAlert && (\n        <View style={global.modalFooterView}>\n          <Grid>\n            <Row size={4}>\n              <Col>\n                <Button full variant=\"primary-contained\" text=\"KEEP ME LOGGED IN\" onPress={closeInactivityAlert} />\n              </Col>\n            </Row>\n            <Row size={4} style={{ marginTop: 10 }}>\n              <Col>\n                <Button full variant=\"default-outlined\" text=\"LOG ME OUT\" onPress={() => navigation.navigate(\"Login\")} />\n              </Col>\n            </Row>\n          </Grid>\n        </View>\n      )}\n      {/* INACTIVITY WARNING PROMPT */}\n\n      {/* LOGGED OUT PROMPT */}\n      <SwipeModal fullWidth state={logoutAlert} onClose={closeLogoutAlert}>\n        <View style={{ marginTop: 10, marginHorizontal: 20 }}>\n          <Typography text=\"Logged out\" type=\"title2\" />\n          <Grid style={{ marginTop: 24 }}>\n            <Row size={4}>\n              <Col>\n                <Typography text=\"For your security, we logged you out. Please log in again.\" type=\"body\" />\n              </Col>\n            </Row>\n          </Grid>\n        </View>\n      </SwipeModal>\n      {logoutAlert && (\n        <View style={global.modalFooterView}>\n          <Button full variant=\"primary-contained\" text=\"LOG IN\" onPress={() => navigation.navigate(\"Login\")} />\n        </View>\n      )}\n      {/* LOGGED OUT PROMPT */}\n\n      {/* LOGGED OUT FROM OTHER DEVICE PROMPT */}\n      <SwipeModal fullWidth state={logoutDeviceAlert} onClose={closeLogoutDeviceAlert}>\n        <View style={{ marginTop: 10, marginHorizontal: 20 }}>\n          <Typography text=\"Logged out\" type=\"title2\" />\n          <Grid style={{ marginTop: 20 }}>\n            <Row size={4}>\n              <Col>\n                <Typography text=\"We noticed you logged in on a different device. For your security, we logged you out of this device.\" type=\"body\" />\n              </Col>\n            </Row>\n          </Grid>\n        </View>\n      </SwipeModal>\n      {logoutDeviceAlert && (\n        <View style={global.modalFooterView}>\n          <Button full variant=\"default-outlined\" text=\"OKAY\" onPress={openEkycAlert} />\n        </View>\n      )}\n      {/* LOGGED OUT FROM OTHER DEVICE PROMPT */}\n\n      {/* EKYC NOTIF */}\n      <SwipeModal fullWidth state={ekycAlert} onClose={closeEkycAlert}>\n        <View style={global.modalView}>\n          <Grid style={{ marginTop: 10 }}>\n            <Row size={4}>\n              <Col>\n                <Typography text=\"If you wish to edit your profile, please verify your account again to ensure security and to continuously enjoy all Singlife features.\" type=\"body\" />\n              </Col>\n            </Row>\n          </Grid>\n        </View>\n      </SwipeModal>\n      {ekycAlert && (\n        <View style={global.modalFooterView}>\n          <Button full variant=\"primary-contained\" text=\"RESET PASSWORD\" onPress={() => navigation.navigate(\"ResetPassword\")} />\n        </View>\n      )}\n      {/* EKYC NOTIF */}\n    </Container>\n  );\n}\n\nIndex.propTypes = {\n  navigation: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}