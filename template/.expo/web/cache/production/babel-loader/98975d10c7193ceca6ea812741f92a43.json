{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import PropTypes from\"prop-types\";import{ViewPropTypes}from\"react-native-web/dist/index\";import{ColorPropType}from\"react-native-web/dist/index\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import PanResponder from\"react-native-web/dist/exports/PanResponder\";var SCALE=6/5;var _default=function(_Component){_inherits(_default,_Component);var _super=_createSuper(_default);function _default(props,context){var _this;_classCallCheck(this,_default);_this=_super.call(this,props,context);_this._onPanResponderGrant=function(evt,gestureState){var disabled=_this.props.disabled;if(disabled)return;_this.setState({toggleable:true});_this.animateHandler(_this.handlerSize*SCALE);};_this._onPanResponderMove=function(evt,gestureState){var value=_this.state.value;var disabled=_this.props.disabled;if(disabled)return;_this.setState({toggleable:value?gestureState.dx<10:gestureState.dx>-10});};_this._onPanResponderRelease=function(evt,gestureState){var toggleable=_this.state.toggleable;var _this$props=_this.props,disabled=_this$props.disabled,onAsyncPress=_this$props.onAsyncPress,onSyncPress=_this$props.onSyncPress;if(disabled)return;if(toggleable){if(onSyncPress){_this.toggleSwitch(true,onSyncPress);}else{onAsyncPress(_this.toggleSwitch);}}else{_this.animateHandler(_this.handlerSize);}};_this.toggleSwitch=function(result){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return null;};var value=_this.state.value;_this.toggleSwitchToValue(result,!value,callback);};_this.toggleSwitchToValue=function(result,toValue){var callback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){return null;};var switchAnimation=_this.state.switchAnimation;_this.animateHandler(_this.handlerSize);if(result){_this.animateSwitch(toValue,function(){_this.setState({value:toValue,alignItems:toValue?'flex-end':'flex-start'},function(){callback(toValue);});switchAnimation.setValue(toValue?-1:1);});}};_this.animateSwitch=function(value){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return null;};var switchAnimation=_this.state.switchAnimation;Animated.timing(switchAnimation,{toValue:value?_this.offset:-_this.offset,duration:200,easing:Easing.linear,useNativeDriver:false}).start(callback);};_this.animateHandler=function(value){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return null;};var handlerAnimation=_this.state.handlerAnimation;Animated.timing(handlerAnimation,{toValue:value,duration:200,easing:Easing.linear,useNativeDriver:false}).start(callback);};var width=props.width,height=props.height,_value=props.value;_this.offset=width-height+1;_this.handlerSize=height-2;_this.state={value:_value,toggleable:true,alignItems:_value?'flex-end':'flex-start',handlerAnimation:new Animated.Value(_this.handlerSize),switchAnimation:new Animated.Value(_value?-1:1)};return _this;}_createClass(_default,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.value===this.state.value){return;}if(typeof nextProps.value!=='undefined'&&nextProps.value!==this.props.value){this.toggleSwitchToValue(true,nextProps.value);}}},{key:\"componentWillMount\",value:function componentWillMount(){this._panResponder=PanResponder.create({onStartShouldSetPanResponder:function onStartShouldSetPanResponder(evt,gestureState){return true;},onStartShouldSetPanResponderCapture:function onStartShouldSetPanResponderCapture(evt,gestureState){return true;},onMoveShouldSetPanResponder:function onMoveShouldSetPanResponder(evt,gestureState){return true;},onMoveShouldSetPanResponderCapture:function onMoveShouldSetPanResponderCapture(evt,gestureState){return true;},onPanResponderTerminationRequest:function onPanResponderTerminationRequest(evt,gestureState){return true;},onPanResponderGrant:this._onPanResponderGrant,onPanResponderMove:this._onPanResponderMove,onPanResponderRelease:this._onPanResponderRelease});}},{key:\"render\",value:function render(){var _this$state=this.state,switchAnimation=_this$state.switchAnimation,handlerAnimation=_this$state.handlerAnimation,alignItems=_this$state.alignItems,value=_this$state.value;var _this$props2=this.props,backgroundActive=_this$props2.backgroundActive,backgroundInactive=_this$props2.backgroundInactive,width=_this$props2.width,height=_this$props2.height,circleColorActive=_this$props2.circleColorActive,circleColorInactive=_this$props2.circleColorInactive,style=_this$props2.style,circleStyle=_this$props2.circleStyle,rest=_objectWithoutProperties(_this$props2,[\"backgroundActive\",\"backgroundInactive\",\"width\",\"height\",\"circleColorActive\",\"circleColorInactive\",\"style\",\"circleStyle\"]);var interpolatedBackgroundColor=switchAnimation.interpolate({inputRange:value?[-this.offset,-1]:[1,this.offset],outputRange:[backgroundInactive,backgroundActive],extrapolate:'clamp'});var interpolatedCircleColor=switchAnimation.interpolate({inputRange:value?[-this.offset,-1]:[1,this.offset],outputRange:[circleColorInactive,circleColorActive],extrapolate:'clamp'});var circlePosition=function circlePosition(value){var modifier=value?1:-1;var position=modifier*-1;if(circleStyle&&circleStyle.borderWidth){position+=modifier;}if(style&&style.borderWidth){position+=modifier;}return position;};var interpolatedTranslateX=switchAnimation.interpolate({inputRange:value?[-this.offset,-1]:[1,this.offset],outputRange:value?[-this.offset,circlePosition(value)]:[circlePosition(value),this.offset],extrapolate:'clamp'});return React.createElement(Animated.View,_extends({},rest,this._panResponder.panHandlers,{style:[styles.container,{width:width,height:height,alignItems:alignItems,borderRadius:height/2,backgroundColor:interpolatedBackgroundColor},style]}),React.createElement(Animated.View,{style:[{backgroundColor:interpolatedCircleColor,width:handlerAnimation,height:this.handlerSize,borderRadius:height/2,transform:[{translateX:interpolatedTranslateX}]},circleStyle]}));}}]);return _default;}(Component);_default.propTypes={width:PropTypes.number,height:PropTypes.number,value:PropTypes.bool,disabled:PropTypes.bool,circleColorActive:ColorPropType,circleColorInactive:ColorPropType,backgroundActive:ColorPropType,backgroundInactive:ColorPropType,onAsyncPress:PropTypes.func,onSyncPress:PropTypes.func,style:ViewPropTypes.style,circleStyle:ViewPropTypes.style};_default.defaultProps={width:40,height:21,value:false,disabled:false,circleColorActive:'white',circleColorInactive:'white',backgroundActive:'#43d551',backgroundInactive:'#dddddd',onAsyncPress:function onAsyncPress(callback){callback(true);}};export{_default as default};var styles=StyleSheet.create({container:{overflow:'hidden',justifyContent:'center'}});","map":{"version":3,"sources":["/Applications/MAMP/htdocs/greninja/node_modules/react-native-switch-pro/lib/index.js"],"names":["React","Component","PropTypes","ViewPropTypes","ColorPropType","SCALE","props","context","_onPanResponderGrant","evt","gestureState","disabled","setState","toggleable","animateHandler","handlerSize","_onPanResponderMove","value","state","dx","_onPanResponderRelease","onAsyncPress","onSyncPress","toggleSwitch","result","callback","toggleSwitchToValue","toValue","switchAnimation","animateSwitch","alignItems","setValue","Animated","timing","offset","duration","easing","Easing","linear","useNativeDriver","start","handlerAnimation","width","height","Value","nextProps","_panResponder","PanResponder","create","onStartShouldSetPanResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","onMoveShouldSetPanResponderCapture","onPanResponderTerminationRequest","onPanResponderGrant","onPanResponderMove","onPanResponderRelease","backgroundActive","backgroundInactive","circleColorActive","circleColorInactive","style","circleStyle","rest","interpolatedBackgroundColor","interpolate","inputRange","outputRange","extrapolate","interpolatedCircleColor","circlePosition","modifier","position","borderWidth","interpolatedTranslateX","panHandlers","styles","container","borderRadius","backgroundColor","transform","translateX","propTypes","number","bool","func","defaultProps","StyleSheet","overflow","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from \"prop-types\"\nimport {\n  ViewPropTypes,\n  ColorPropType,\n  StyleSheet,\n  Animated,\n  Easing,\n  PanResponder,\n} from 'react-native'\n\nconst SCALE = 6 / 5\n\nexport default class extends Component {\n  static propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    value: PropTypes.bool,\n    disabled: PropTypes.bool,\n    circleColorActive: ColorPropType,\n    circleColorInactive: ColorPropType,\n    backgroundActive: ColorPropType,\n    backgroundInactive: ColorPropType,\n    onAsyncPress: PropTypes.func,\n    onSyncPress: PropTypes.func,\n    style: ViewPropTypes.style,\n    circleStyle: ViewPropTypes.style\n  }\n\n  static defaultProps = {\n    width: 40,\n    height: 21,\n    value: false,\n    disabled: false,\n    circleColorActive: 'white',\n    circleColorInactive: 'white',\n    backgroundActive: '#43d551',\n    backgroundInactive: '#dddddd',\n    onAsyncPress: (callback) => {callback(true)}\n  }\n\n  constructor (props, context) {\n    super(props, context)\n    const { width, height, value } = props\n\n    this.offset = width - height + 1\n    this.handlerSize = height - 2\n\n    this.state = {\n      value,\n      toggleable: true,\n      alignItems: value ? 'flex-end' : 'flex-start',\n      handlerAnimation: new Animated.Value(this.handlerSize),\n      switchAnimation: new Animated.Value(value ? -1 : 1)\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    // unify inner state and outer props\n    if (nextProps.value === this.state.value) {\n      return\n    }\n\n    if (typeof nextProps.value !== 'undefined' && nextProps.value !== this.props.value) {\n      /**\n       /* you can add animation when changing value programmatically like following:\n       /* this.animateHandler(this.handlerSize * SCALE, () => {\n      /*   setTimeout(() => {\n      /*    this.toggleSwitchToValue(true, nextProps.value)\n      /*    }, 800)\n      /* })\n       */\n      this.toggleSwitchToValue(true, nextProps.value)\n    }\n  }\n\n\n  componentWillMount () {\n    this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: (evt, gestureState) => true,\n      onStartShouldSetPanResponderCapture: (evt, gestureState) => true,\n      onMoveShouldSetPanResponder: (evt, gestureState) => true,\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) => true,\n      onPanResponderTerminationRequest: (evt, gestureState) => true,\n      onPanResponderGrant: this._onPanResponderGrant,\n      onPanResponderMove: this._onPanResponderMove,\n      onPanResponderRelease: this._onPanResponderRelease\n    })\n  }\n\n  _onPanResponderGrant = (evt, gestureState) => {\n    const { disabled } = this.props\n    if (disabled) return\n\n    this.setState({toggleable: true})\n    this.animateHandler(this.handlerSize * SCALE)\n  }\n\n  _onPanResponderMove = (evt, gestureState) => {\n    const { value } = this.state\n    const { disabled } = this.props\n    if (disabled) return\n\n    this.setState({\n      toggleable: value ? (gestureState.dx < 10) : (gestureState.dx > -10)\n    })\n  }\n\n  _onPanResponderRelease = (evt, gestureState) => {\n    const { toggleable } = this.state\n    const { disabled, onAsyncPress, onSyncPress } = this.props\n\n    if (disabled) return\n\n    if (toggleable) {\n      if (onSyncPress) {\n        this.toggleSwitch(true, onSyncPress)\n      } else {\n        onAsyncPress(this.toggleSwitch)\n      }\n    } else {\n      this.animateHandler(this.handlerSize)\n    }\n  }\n\n  /**\n   *\n   * @param result result of task\n   * @param callback invoke when task is finished\n   */\n  toggleSwitch = (result, callback = () => null) => {\n    const { value } = this.state\n    this.toggleSwitchToValue(result, !value, callback)\n  }\n\n  /**\n   * @param result result of task\n   * @param toValue next status of switch\n   * @param callback invoke when task is finished\n   */\n  toggleSwitchToValue = (result, toValue, callback = () => null) => {\n    const { switchAnimation } = this.state\n\n    this.animateHandler(this.handlerSize)\n    if (result) {\n      this.animateSwitch(toValue, () => {\n        this.setState({\n          value: toValue,\n          alignItems: toValue ? 'flex-end' : 'flex-start'\n        }, () => {\n          callback(toValue)\n        })\n        switchAnimation.setValue(toValue ? -1 : 1)\n      })\n    }\n  }\n\n  animateSwitch = (value, callback = () => null) => {\n    const { switchAnimation } = this.state\n\n    Animated.timing(switchAnimation,\n      {\n        toValue: value ? this.offset : -this.offset,\n        duration: 200,\n        easing: Easing.linear,\n        useNativeDriver: false\n      }\n    ).start(callback)\n  }\n\n  animateHandler = (value, callback = () => null) => {\n    const { handlerAnimation } = this.state\n\n    Animated.timing(handlerAnimation,\n      {\n        toValue: value,\n        duration: 200,\n        easing: Easing.linear,\n        useNativeDriver: false\n      }\n    ).start(callback)\n  }\n\n  render() {\n    const { switchAnimation, handlerAnimation, alignItems, value } = this.state\n    const {\n      backgroundActive, backgroundInactive,\n      width, height, circleColorActive, circleColorInactive, style,\n      circleStyle,\n      ...rest\n    } = this.props\n\n    const interpolatedBackgroundColor = switchAnimation.interpolate({\n      inputRange: value ? [-this.offset, -1]: [1, this.offset],\n      outputRange: [backgroundInactive, backgroundActive],\n      extrapolate: 'clamp'\n    })\n\n    const interpolatedCircleColor = switchAnimation.interpolate({\n      inputRange: value ? [-this.offset, -1]: [1, this.offset],\n      outputRange: [circleColorInactive, circleColorActive],\n      extrapolate: 'clamp'\n    })\n\n    const circlePosition = (value) => {\n      const modifier = value ? 1 : -1\n      let position = modifier * -1\n\n      if (circleStyle && circleStyle.borderWidth) {\n        position += modifier\n      }\n\n      if (style && style.borderWidth) {\n        position += modifier\n      }\n\n      return position\n    }\n\n    const interpolatedTranslateX = switchAnimation.interpolate({\n      inputRange: value ? [-this.offset, -1]: [1, this.offset],\n      outputRange: value ? [-this.offset, circlePosition(value)]: [circlePosition(value), this.offset],\n      extrapolate: 'clamp'\n    })\n\n    return (\n      <Animated.View\n        {...rest}\n        {...this._panResponder.panHandlers}\n        style={[styles.container, {\n          width, height,\n          alignItems,\n          borderRadius: height / 2,\n          backgroundColor: interpolatedBackgroundColor }, style]}>\n        <Animated.View style={[{\n          backgroundColor: interpolatedCircleColor,\n          width: handlerAnimation,\n          height: this.handlerSize,\n          borderRadius: height / 2,\n          transform: [{ translateX: interpolatedTranslateX }]\n        }, circleStyle]} />\n      </Animated.View>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    overflow: 'hidden',\n    justifyContent: 'center'\n  }\n})\n"]},"metadata":{},"sourceType":"module"}